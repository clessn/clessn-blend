
###############################################################################
################         Script Definitions and Specs        ##################
###############################################################################
#                                                                             #
#                                                                             #
#                             agora-plus-canada                               #
#                                                                             #
#                                                                             #
#                                                                             #
###############################################################################


###############################################################################
########################      Functions and Globals      ######################
###############################################################################

clessnverse::version()
hubr::check_version()

credentials <- hubr::get_credentials(Sys.getenv("HUB3_URL"), 
                                     Sys.getenv("HUB3_USERNAME"), 
                                     Sys.getenv("HUB3_PASSWD"))


clessnhub::connect_with_token(Sys.getenv("HUB_TOKEN"))

dbx_token <- Sys.getenv("DROPBOX_TOKEN")

logger <- clessnverse::loginit(script="scraper", backend=c("console", "file", "hub"), logpath=".")

###############################################################################
######################  Get Data Sources from Warehouse  ######################
######################              HUB 3.0              ######################
###############################################################################

###############################################################################
######################   Get Data Sources from HUB 2.0   ######################
###############################################################################

filter <- clessnhub::create_filter(type="journalist")
df_journalists <- clessnhub::get_items('persons', filter)

clessnverse::logit(scriptname="scraper", message=paste("Journalists dataframe contains", nrow(df_journalists)), logger=logger)


###############################################################################
######################   Get Data Sources from Dropbox   ######################
###############################################################################

###############################################################################
########################               Main              ######################
###############################################################################
